<h1>Your Shopping Cart</h1>

<% if @cart_items.blank? %>
  <p>Your cart is empty.</p>
  <%= link_to "Start Shopping", products_path, class: "btn btn-primary" %>
<% else %>
  <div class="cart-container">
    <% @cart_items.each do |product| %>
      <div class="cart-item">
        <strong><%= product.name %></strong>
        - $<%= number_with_precision(product.price, precision: 2) %>

        <!-- Remove button -->
        <%= button_to "Remove",
                      remove_from_cart_path(product),
                      method: :delete,
                      class: "btn btn-sm btn-danger",
                      data: { turbo: false } %>
      </div>
    <% end %>

    <hr>

    <p>
      <strong>Total:</strong>
      $<%= number_with_precision(@cart_items.sum(&:price), precision: 2) %>
    </p>

    <%= link_to "Continue Shopping", products_path, class: "btn btn-secondary" %>
  </div>
<% end %>
